experiment:
  # It contains all the about the grids and the group of runs:
  name: LabelAnything # name of the logger platform experiment
  group: FirstTry # name of group of experiments for the logger platform
  continue_with_errors: False # continue with other runs even if a run fails
  start_from_grid: 0 # skip grids in the grid search
  start_from_run: 0 # skip runs from the selected grid

parameters:
  # Contains the parameters to build the grid.
  # Each value should be a dict or a list
  
  logger:
    log_frequency: [50]
    image_log_frequency: [1000]
    tmp_dir: [/leonardo_work/IscrC_PENELOPE/tmp]
    comet:
      tags: [[Test]] # list of tags to attach to the run in logger platform
      offline: [True]
      offline_directory: [/leonardo_work/IscrC_PENELOPE/offline]
      tags: [[FirstTry]] # list of tags to attach to the run in logger platform

  train_params:
    loss:
      rmi:
        weight: [1.0]
        params:
    seed: &seed [42] # random seed to set
    # substitution_threshold: [0.1] # threshold
    num_points: [1] # number of points for class after the substitution
    max_epochs: [5, 10]
    compile: [False]
    initial_lr: [0.0001, 0.00005]
    optimizer: [AdamW]
    substitute: [False]
    check_nan: [1] # check for nan every n batches

  model:
    name: [lam_no_vit] # path to model class or model name contained in EzDL or super-gradients
    checkpoint: [checkpoints/sam_vit_h_4b8939.pth] # model parameters
    use_sam_checkpoint: [True]

  dataset: # parameters depending on the class you defined for the dataset
    datasets:
      lvis:
        name: [lvis]
        instances_path: [/leonardo_scratch/large/userexternal/nfanelli/annotations/lvis_v1_train.json]
        emb_dir: &emb_dir [/leonardo_scratch/large/userexternal/nfanelli/embeddings]
        img_dir: &img_dir [/leonardo_scratch/large/userexternal/nfanelli/train_val_2017]
      coco:
        name: [coco]
        instances_path: [/leonardo_scratch/large/userexternal/nfanelli/annotations/instances_train2017.json]
        emb_dir: *emb_dir
        img_dir: *img_dir
      val_lvis:
        name: [lvis]
        instances_path: [/leonardo_scratch/large/userexternal/nfanelli/annotations/lvis_v1_val.json]
        emb_dir: *emb_dir
        img_dir: *img_dir
        seed: *seed
        do_subsample: [False]
        add_box_noise: [False]
      val_coco:
        name: [coco]
        instances_path: [/leonardo_scratch/large/userexternal/nfanelli/annotations/instances_val2017.json]
        emb_dir: *emb_dir
        img_dir: *img_dir
        seed: *seed
        do_subsample: [False]
        add_box_noise: [False]
    common:
      do_subsample: [True]
      add_box_noise: [True]
      max_num_examples: [4]
      load_embeddings: [True]
      load_gts: [True]
  dataloader:
    batch_size: [4]
    num_workers: [16]
    prefetch_factor: [2]

other_grids: